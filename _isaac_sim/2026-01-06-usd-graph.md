---
title: "USD Graph 저장 방법"
collection: isaac_sim
date: 2026-01-06
permalink: /isaac-sim/usd-graph/
excerpt: "USD Graph를 보존하면서 저장하는 방법과 주의사항, Reference로 로봇을 로드하는 예시."
---

## USD Graph 저장 방법

### 핵심: 저장 방식이 중요!

| 방식 | 결과 |
|------|------|
| `stage.Export(path)` | ❌ Flatten - Graph 깨짐 |
| `stage.GetRootLayer().Export(path)` | ✅ Reference 유지 - Graph 보존 |

### 올바른 저장법 (Python 스크립트에서도 동일)

```python
# ❌ 잘못된 방식
stage.Export("/path/to/scene.usd")

# ✅ 올바른 방식
stage.GetRootLayer().Export("/path/to/scene.usd")
```

### Graph 보존 조건

1. **로봇을 Reference로 로드**
```python
from omni.isaac.core.utils.stage import add_reference_to_stage
add_reference_to_stage(
    usd_path="/path/to/ridgeback_franka.usd",
    prim_path="/World/Robot"
)
```

2. **RootLayer로 저장**
```python
stage.GetRootLayer().Export("/path/to/saved_scene.usd")
```
