---
title: "ESP32 기반 Wi-Fi 단독 제어 시스템 개발 경험"
collection: arduino
type: "Project"
permalink: /arduino/2025-esp32-wifi-standalone/
date: 2025-12-13
excerpt: "ESP32 기반 단독 Wi‑Fi 제어 시스템의 설계와 구현, 전원과 네트워크 안정성 문제 해결과 실시간 제어 개선 사례를 정리한 글입니다."
---

## 개요

이 글은 **노트북 없이 단독으로 동작하는 ESP32 기반 Wi-Fi 제어 시스템**을 설계하고 구현한 과정을 정리한 기술 토크이다.  
ESP32 내부에 웹서버를 직접 구성하여, **브라우저를 통해 서보 모터와 레이저 모듈을 제어**할 수 있는 시스템을 목표로 했다.

프로젝트는 Arduino + USB 시리얼 방식에서 시작해, 블루투스 시도와 전원 안정성 문제를 거쳐 **ESP32 중심 구조로 수렴**했다.

---

## 개발 동기

기존 Arduino 기반 제어 시스템은 다음과 같은 한계를 가지고 있었다.

- USB 케이블 및 노트북 의존
- 블루투스 모듈의 불안정성
- 현장 배치 시 전원 및 연결 관리의 어려움

본 프로젝트의 목표는 다음과 같다.

- 전원만 연결하면 자동 부팅
- Wi-Fi 자동 연결
- 별도 프로그램 없이 브라우저로 제어
- 실험 단계를 넘어 실사용 가능한 구조

---

## 기술 스택

### 하드웨어
- ESP32 Dev Module
- 서보 모터
- HW-493 레이저 모듈
- 보조배터리 (5V / 2A, USB-A → USB-C)

### 소프트웨어
- Arduino Framework (ESP32 Core)
- `WiFi.h`
- `WebServer.h`
- `ESP32Servo.h`

---

## 주요 문제와 해결 과정

### 전원 안정성 문제
- USB-C ↔ USB-C(C-to-C) 연결 시 전원 불안정 발생
- USB-PD 협상 미지원으로 Wi-Fi 연결 실패 및 리셋 반복

👉 **USB-A → USB-C 방식으로 변경하여 문제 해결**

---

### 네트워크 설정
- DHCP 사용 시 IP가 변경되어 접근 불편
- `WiFi.config()`를 활용해 **고정 IP 설정**

👉 전원 재부팅 후에도 동일한 주소로 접근 가능

---

### 실시간 제어 로직
- `delay()` 기반 제어로 웹 요청 응답 지연 발생
- `millis()` 기반 논블로킹 구조로 개선

👉 웹서버 응답성과 제어 안정성 확보

---

## 최종 결과

- ESP32 단독 웹서버 구동
- 브라우저를 통한 REST 방식 제어
  - `/servo/on`, `/servo/off`
  - `/laser/on`, `/laser/off`
- 노트북 없이 보조배터리만으로 동작
- 전원 및 네트워크 안정화 완료

---

## 향후 확장 계획

- FastAPI 서버와 연동한 상위 제어 구조
- YOLO 기반 비전 인식 결과 자동 트리거
- 부팅 시 상태 복구 및 안전 모드 설계

---

> 이 프로젝트는 작은 전원 연결 방식 하나가 전체 시스템 안정성에 얼마나 큰 영향을 주는지,  
> 그리고 단순한 구조가 얼마나 강력한 해법이 될 수 있는지를 보여준다.

